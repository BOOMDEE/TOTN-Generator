# TOTN Generator

TOTN（Traceable One-Time Number）是一种可追溯、一次性的数字编号生成方案，
用于防伪标识、签名编号、礼物编号等非密码学安全场景。

## 设计目标

- 可追溯：编号中隐含生成日期，可在内部规则下反推
- 一次性：通过当日序号与校验逻辑避免重复
- 难以直观猜测：日期经过数值扰动处理，非明文暴露
- 可人工校验：规则简单明确，避免黑箱加密
- 纯数字：适合打印、刻蚀、录入与机器处理

## TOTN 结构说明

TOTN 由以下字段顺序组成（无分隔符）：

[T][S][V][R][C][F]

其中：

- T（8位）：时间混合值  
  计算方式：YYYYMMDD + 固定码（462675）

- S（2位）：当日序号  
  表示当天生成的第几个 TOTN（00–99）

- V（2位）：版本号  
  用于未来规则升级与兼容

- R（2位）：类型 / 场景码  
  例如：签名、礼物、文件、批次等

- C（2位）：确认码  
  由 S、V、R、F 四段数字之和取模 100 得到

- F（2位）：功能码  
  表示用途或内部标识

## 示例

输入：
- 日期：2025-12-26
- 固定码：462675
- 当日序号：01
- 版本：01
- 类型：04
- 功能码：01

计算：
- 时间混合值 = 20251226 + 462675 = 20713801
- 确认码 = (0+1+0+1+0+4+0+1) mod 100 = 07

输出 TOTN：
207138010101040701

## 注意事项

- TOTN 不是密码学意义上的 OTP，不用于身份认证
- 固定码应视为内部私有参数，不公开
- 若规则变更，应提升版本号而非修改旧逻辑

## 适用场景

- 实体礼物 / 收藏品编号
- 签名作品唯一标识
- 小规模防伪与追溯
- 内部流转与登记编号
